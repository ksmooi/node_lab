# gRPC Server and Client with TypeScript and `ts-proto`

This project demonstrates how to build a gRPC server and client using TypeScript and `ts-proto` to generate strongly-typed service and message definitions from Protocol Buffers (`.proto` files).

## Project Structure

```
src/
├── apps/
│   └── api_grpc_tsproto/
│       ├── generated/         # Generated TypeScript files from product.proto
│       ├── grpc_api_client.ts # Client implementation
│       ├── grpc_api_server.ts # Server implementation
│       └── product.proto      # Protocol Buffer definition file
```

## Prerequisites

- **Node.js** installed (>= v12.x)
- **Protocol Buffers Compiler (`protoc`)** installed
- **npm** (comes with Node.js)

## Setup Instructions

1. **Clone the Repository:**

   ```bash
   git clone <your-repo-url>
   cd <your-repo-folder>
   ```

2. **Install Dependencies:**

   Run the following command to install the required dependencies:

   ```bash
   npm install
   ```

3. **Generate TypeScript from `.proto` Files:**

   Run the following command to generate TypeScript code from the `product.proto` file:

   ```bash
   protoc --plugin=protoc-gen-ts_proto=node_modules/.bin/protoc-gen-ts_proto \
     --ts_proto_out=src/apps/api_grpc_tsproto/generated \
     --ts_proto_opt=outputServices=grpc-js,useOptionals=messages,esModuleInterop=true \
     -I src/apps/api_grpc_tsproto src/apps/api_grpc_tsproto/product.proto
   ```

   This will generate the TypeScript files in the `src/apps/api_grpc_tsproto/generated` directory.

4. **Compile the TypeScript Files:**

   Compile the TypeScript files into JavaScript:

   ```bash
   npx tsc
   ```

## Running the gRPC Server

To start the gRPC server, run the following command:

```bash
node dist/apps/api_grpc_tsproto/grpc_api_server.js
```

The server will start on `localhost:50051`.

## Running the gRPC Client

To run the gRPC client and interact with the server, execute:

```bash
node dist/apps/api_grpc_tsproto/grpc_api_client.js
```

The client will perform various operations (create, get, update, delete, and list products) and display the results in the console.

## Additional Notes

- **Protocol Buffers** are used to define the structure of the messages and services in the `.proto` file.
- **gRPC** provides high-performance communication between client and server using the definitions generated by `ts-proto`.
- **TypeScript** ensures type safety throughout the project, reducing the likelihood of runtime errors.

By following these steps, you will have a fully functioning gRPC server and client using TypeScript and `ts-proto`.
